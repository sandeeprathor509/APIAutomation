orbs:
  maven: circleci/maven@1.3.0
version: 2.1
dependencies: 
  override: 
    - mvn -DskipTests clean install dependency:resolve-plugins dependency:go-offline
jobs:
  API-Automation:
    docker:
      - image: cimg/openjdk:11.0 
    steps:
      - run:
          working_directory: ~/freenow-auto/pom.xml
          name: perform maven clean
          command: mvn clean
      - checkout
      - run:
          working_directory: ~/freenow-auto/pom.xml
          name: perform maven test
          command:  mvn -s ./src/test/resources/APItestNG.xml clean test

workflows:
  sample: 
    jobs:
      - API-Automation

